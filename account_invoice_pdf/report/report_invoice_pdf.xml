<?xml version="1.0" encoding="utf-8" ?>
<!--
##############################################################################
#
#    Copyright (c) 2015 be-cloud.be
#                       Jerome Sonnet <jerome.sonnet@be-cloud.be>
#
#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU Affero General Public License as
#    published by the Free Software Foundation, either version 3 of the
#    License, or (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU Affero General Public License for more details.
#
#    You should have received a copy of the GNU Affero General Public License
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
##############################################################################
-->
<odoo>
    
    <!-- report -->
    <report 
        id="account_invoice_pdf"
        model="account.invoice"
        string="Invoice as PDF"
        report_type="qweb-pdf"
        name="account_invoice_pdf.report_invoice_pdf"
        file="account_invoice_pdf.report_invoice_pdf"
        />
        
    <template id="report_invoice_pdf">
        <t t-call="report.html_container">
            <t t-set="template_type" t-value="'pdf'"/>
            <t t-foreach="docs" t-as="o">
                <t t-call="account.report_invoice_document" t-lang="o.partner_id.lang"/>
            </t>
        </t>
    </template>

    <template id="report_invoice_document_inherit_invoice_pdf" inherit_id="account.report_invoice_document">
        <xpath expr="//div[@class='page']" position="attributes">
            <attribute name="t-att-style">'padding:200px 50px 50px 50px;' if o.company_id.id == 1 else 'padding:300px 75px 50px 75px;'</attribute> 
        </xpath>
        <xpath expr="//div[@class='page']" position="inside">
            <div t-if="o.company_id.id == 1"><!-- Gallys -->
                <div style="position: absolute;top: 75px;left: 0;" t-if="template_type == 'pdf'">
                    <img src="/account_invoice_pdf/static/src/img/gallys_logo.png"/>
                </div>
                <div style="position: absolute;top: 1050px;right:0;">
                    <img src="/account_invoice_pdf/static/src/img/gallys_logo_bottom.svg" t-if="template_type == 'pdf'"/>
                </div>
                <div style="position: absolute;top: 705px;left: 0;z-index:-1;">
                    <img src="/account_invoice_pdf/static/src/img/gallys_logo_bottom_left.svg" t-if="template_type == 'pdf'"/>
                </div>
            </div>
            <div t-if="o.company_id.id == 15"><!-- MD Constulting -->
                <div style="position: absolute;top: 75px;left: 45px;" t-if="template_type == 'pdf'">
                    <img src="/account_invoice_pdf/static/src/img/logo_duez.svg"/>
                </div>
                <div style="position: absolute;top: 1400px;left: 15px;z-index:-1;">
                    <img src="/account_invoice_pdf/static/src/img/logo_duez_bottom.svg" t-if="template_type == 'pdf'"/>
                </div>
            </div>
        </xpath>
        <xpath expr="//div[@class='page']" position="after">
            <t t-if="o.company_id.id == 1"><!-- Gallys -->
            <div class="page container" style="padding:75px" t-if="template_type == 'pdf'">
                <t t-call="account_invoice_pdf.report_invoice_condgeneral" t-lang="o.partner_id.lang"/>
            </div>
            </t>
        </xpath>
    </template>

    <template id="report_invoice_condgeneral">
        <div style="page-break-inside: auto"></div>
        <h3>CONDITIONS GENERALES DE VENTE ET DE FACTURATION</h3>
        <ol type="1">
            <li>Tous nos services, factures et contrats sont soumis aux conditions générales reprises ci-après. Il ne pourra en être dérogé qu’à condition de le stipuler explicitement et par écrit.</li>
            <li>Toute contestation portant sur la nature, l’objet ou le montant de nos prestations doit être signalée par écrit et par courrier recommandé dans un délai de 8 jours après réception de notre facture, sous peine de forclusion.</li>
            <li>Nos factures sont payables à notre siège d’exploitation dans le mois à partir de la date de facturation sauf stipulation contraire écrite.</li>
            <li>En cas de non-paiement de nos factures dans le délai prescrit à l’article 3, des intérêts de retard au taux d’intérêt légal sont dus de plein droit et sans mise en demeure préalable et toutes nos créances deviennent immédiatement exigibles.</li>
            <li>En cas de non-paiement de nos factures dans le délai prescrit à l’article 3, une indemnité forfaitaire et irréductible de 15% avec un minimum de 125 EUR est due de plein droit à titre de dommages et intérêts. </li>
            <li>Le non-paiement d’acomptes et / ou de factures nous autorise à suspendre nos services et travaux dans les limites légales ainsi qu’à retenir nos rapports sans qu’aucune indemnité ne puisse être exigée et sous réserve de l’indemnisation complète de notre préjudice. Les acomptes restent acquis en cas de défaut de paiement. </li>
            <li>Tous les contrats sont soumis à la législation belge.  Tout litige relève de la compétence exclusive des tribunaux de l’arrondissement judiciaire de Verviers.</li>
        </ol>
        <h3>ALGEMENE VERKOOPS- EN FACTUURVOORWAARDEN</h3>
        <ol>
            <li>Al onze diensten, facturen en contracten worden beheerst door de hiernavermelde algemene voorwaarden. Er kan enkel van afgeweken worden mits uitdrukkelijk én schriftelijk beding. </li>
            <li>Alle betwistingne met betrekking tot de aard, het voorwerp of het bedrag van onze prestaties moetne schiftelijk en aangetekend worden gedaan binnen de 8 dagen na ontvangst van onze factuur, dit alles op strafe van verklaring van niet-ontvankelijkheid. </li>
            <li>Onze gacturen zijn betaalbaar op onze exploitative zetel binnen de maand na factuurdatum behoudens andersluidend schriftelijk beding.</li>
            <li>In geval van niet-betaling van onze facturen binnen de termijn bepaald in artikel 3 zijn van rechtswege en zonder voorafgaandelijke ingebrekestelling verwijlintresten aan de wettelijke intrestvoet verschuldidg en worden al onze vorderingen onmiddelijk opeisbaar. </li>
            <li>In geval van niet-betaling van onze facturen binnen de termijn bepaald in artikel 3 is van rechtwege, ten titel van bedongen en aanvaarde forfaitaire en onherleidbare vergoeding, een schadevergoeding verschuldigd van 15% met een minimum van 125 EUR. </li>
            <li>De niet-betaling van voordschotten en/of facturen laat ons toe diensten en werkzaamheden binnen de beperkingen van techtswege op te schorten alsmede onze rapporten in te houden dit zonder dat enige schadevergoeding gevorderd kan worden en onder voorbehoud van integrale vergoeding van onze schade. Bettalde voorschotten blijven in geval van wanbetaling der factureb verworven. </li>
            <li>Alle contracten zijn onderworpen aan de Belgische wetgeving. Alle geschillen vallen onder de uitsluitende bevoegdheid van de Rechtbanken van het gerechtekijk arrondissement van Verviers.</li>
        </ol>
    </template>
    
</odoo>